{% extends "base.html" %}
{% load static %}
{% block title %}
  Portfolio
{% endblock %}
{% block content %}
<div class="container">
  {% with request.resolver_match.view_name as view_name %}
    <div class="container my-5">
      <div class="row p-4 pb-0 pe-lg-0 pt-lg-5 align-items-center rounded-3 border shadow-lg">
        {% if view_name == 'portfolio:all_projects' %}
          <div class="col-lg-7 p-3 p-lg-5 pt-lg-3">
            <h1 class="display-4 fw-bold lh-1 text-body-emphasis">Portfolio</h1>
            <p class="lead">Quickly design and customize responsive mobile-first sites with Bootstrap, the worldâ€™s most popular front-end open source toolkit, featuring Sass variables and mixins, responsive grid system, extensive prebuilt components, and powerful JavaScript plugins.</p>
            <div class="d-grid gap-2 d-md-flex justify-content-md-start mb-4 mb-lg-3">
              <button type="button" class="btn btn-primary btn-lg px-4 me-md-2 fw-bold">Primary</button>
              <button type="button" class="btn btn-outline-secondary btn-lg px-4">Default</button>
            </div>
          </div>
          <div class="col-lg-4 offset-lg-1 p-0 overflow-hidden shadow-lg">
              <img class="rounded-lg-3 rounded-top-3" src="{% static 'img/unsplash-photo-2.jpg' %}" alt="" style="object-fit: contain;" height="620" width="auto">
          </div>
        {% else %}
          <div class="col-lg-12 p-3 p-lg-5 pt-lg-3">
            <h1 class="display-4 fw-bold lh-1 text-body-emphasis">{{ technology.name }}</h1>
          </div>
        {% endif %}
      </div>
    </div>
  {% endwith %}

  <div class="row row-cols-1 row-cols-lg-6 align-items-stretch g-4 py-1 pb-5">
    <div class="col">
      <a class="link-underline-light link-underline-opacity-50" href="{% url 'portfolio:all_projects' %}">
        <span class="badge d-flex align-items-center p-1 pe-2 text-info-emphasis bg-info-subtle border border-info-subtle rounded-pill">
          <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-braces" viewBox="0 0 16 16">
            <path d="M2.114 8.063V7.9c1.005-.102 1.497-.615 1.497-1.6V4.503c0-1.094.39-1.538 1.354-1.538h.273V2h-.376C3.25 2 2.49 2.759 2.49 4.352v1.524c0 1.094-.376 1.456-1.49 1.456v1.299c1.114 0 1.49.362 1.49 1.456v1.524c0 1.593.759 2.352 2.372 2.352h.376v-.964h-.273c-.964 0-1.354-.444-1.354-1.538V9.663c0-.984-.492-1.497-1.497-1.6M13.886 7.9v.163c-1.005.103-1.497.616-1.497 1.6v1.798c0 1.094-.39 1.538-1.354 1.538h-.273v.964h.376c1.613 0 2.372-.759 2.372-2.352v-1.524c0-1.094.376-1.456 1.49-1.456V7.332c-1.114 0-1.49-.362-1.49-1.456V4.352C13.51 2.759 12.75 2 11.138 2h-.376v.964h.273c.964 0 1.354.444 1.354 1.538V6.3c0 .984.492 1.497 1.497 1.6"/>
          </svg>
          All
        </span>
      </a>
    </div>
    {% if page_obj.technologies %}
      {% for tag in page_obj.technologies %}
        {% include "includes/tag.html" %}
      {% endfor %}
    {% else %}
      <p>There are no technologies yet</p>
    {% endif %}
  </div>

  <div class="row row-cols-1 row-cols-lg-3 align-items-stretch g-4 py-1">
    {% if page_obj.projects %}
      {% for post in page_obj.projects %}
        {% include "includes/post_card.html" %}
      {% endfor %}
    {% else %}
      <p>There are no projects yet</p>
    {% endif %}
    </div>
  </div>
{% endblock %}